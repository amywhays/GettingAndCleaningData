mTemp2[logi]
mean(mTemp2[logi])
May<-a["Month"]==5
a[May]
b<-a["Ozone"]
b[May]
Max(b[May])
max(b[May])
x <- c(17, 14, 4, 5, 13, 12, 10)
x[x >= 11] <- 4
x
View(b)
install.packages("KernSmooth")
library(KernSmooth)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
getwd()
library(datasets)
data(iris)
?iris
flowers <- iris[,,,,Virginica]
flowers <- iris[,,,Virginica]
flowers <- iris[,Virginica]
flowers <- iris[,,Virginica]
flowers <- iris[Virginica]
flowers <- iris["virginica"]
flowers <- iris["species"] == "Virginica"
flowers <- c(iris["species"] == "Virginica")
iris
flowers <- iris["Species"] == "Virginica"
flowers
flow <- iris[flowers]
flow
iris[flowers]
iris[c(iris["Species"] == "virginica")]
iris
flowers <- iris["Species"] == "Virginica"
flowers
flwrs <- iris[flowers]
flwrs
iris
flowers <- iris["Species"] = "virginica"
flowers <- iris["Species"] = "virginica"
flowers <- iris["Species"] == "virginica"
flowers
flwers <- iris[flowers]
flwers
class(flwres)
class(flwers)
flwers <- as.data.frame(iris[flowers])
flwers
flwers <- c(iris["Sepal.Length"], iris[flowers])
flwers
flwers["Sepal.Length"]
length(flwers["Sepal.Length"])
dim(flwers)
class(flwers)
flwers <- c(iris["Sepal.Length"]. iris["Species"] == "virginica")
flwers <- c(iris["Sepal.Length"], iris["Species"] == "virginica")
flwers
dim(flwers)
length(flwers)
ncol(flwers)
class(flwers)
class[iris]
class(iris)
flwers <- data.frame(iris["Sepal.Length"], iris["Species"] == "virginica")
class(flwers)
flwers
flwers["Species"]
flwers["Species"] == TRUE
flwers
a <- iris["Species"] == "virginica"
a
iris[a]
a["Sepal.Length"]
class(a)
dim(a)
a
iris[a]
b <- data.frame(iris["Sepal.Length"], iris[a])
iris[a]
a
b <- c(iris[Sepal.Length], a)
b <- c(iris["Sepal.Length"], a)
b
a
iris[a]
data.frames(iris[a])
data.frame(iris[a])
iris[a,]
b <- iris[a,]
b
means(b["Sepal.Length"])
mean(b["Sepal.Length"])
b
mean(b$Sepal.Length)
library(datasets)
data(mtcars)
?mtcars
mean(mtcars$mpg, mtcars$cyl)
tapply(mtcars$cyl, mtcars$mpg, mean)
lapply(mtcars, mean)
with(mtcars, tapply(mpg, cyl, mean))
with(mtcars, tapply(hp, cyl, mean))
c <- with(mtcars, tapply(hp, cyl, mean))
c
c[$8] - c[$4]
c[,8] - c[,4]
dim(c)
c["4"]
c["8"] - c["4"]
c
colMeans(iris)
iris
iris
apply(iris[, 1:4], 1, mean)
apply(iris[, 1:4], 2, mean)
rowMeans(iris[, 1:4])
126.5779
6.588
debug(ls)
ls
ls
library(datasets)
data(mtcars)
mean(mtcars$mpg, mtcars$cyl)
tapply(mtcars$mpg, mtcars$cyl, mean)
source('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("TX", "heart failure", 4)
source('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("TX", "heart failure", 4)
source('~/R/CourseraRProgramming/rankhospital.R')
source('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("TX", "heart failure", 4)
source('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
rankhospital("MN", "heart attack", 5000)
rankhospital("MD", "heart attack", "worst")
debugSource('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
nr
number
sthosp["Hospital.Name"]
sthosp["State"]
name
ordered[number]
ordered
nr
nrows(ordered)
nrow(ordered)
ordered(40:45)
ordered[40:45]
nr
ordered
debugSource('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
name
nr
ordered
nrow(ordered)
length(ordered)
source('~/R/CourseraRProgramming/rankhospital.R')
rankhospital("MD", "heart attack", "worst")
rankhospital("MN", "heart attack", 5000)
rankhospital("TX", "heart failure", 4)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
5
submit()
submit()
submit()
source('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankhospital.R')
source('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
state.abb
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
debugSource('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
i
debugSource('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
i
sthosp
nr
nr
number
name
i
state.abb
dataset
name
dataset
debugSource('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
i
dataset
debugSource('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
debugSource('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
number
nr
sthosp
sthosp["Hospital.Name"]
outcome
num
i
state
good
i
nrow(sthosp)
sthosp("Hospital.Name")
sthosp["Hospital.Name"]
nr
dataset
temp_dataset
name
name <- as.character(sthosp[ordered[number],]["Hospital.Name"])
name
number
nr
length(ordered)
ordered
sthosp
nrows(sthosp)
nrow(sthosp)
i
str(i)
str(state.abb)
i
dataset
i
good
nr
number
num
number
temp_dataset
dataset
name
temp_dataset
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
warnings()
source('~/R/CourseraRProgramming/rankall.R')
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
warnings()
source('~/R/CourseraRProgramming/rankall.R')
head(rankall("heart attack", 20), 10)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
submit()
submit()
system.time()
getwd()
setwd("C:\\Users\\Highland\\Documents\\R\\GettingAndCleaningData")
getwd()
fileurl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file(fileurl, destfile = "survey.csv")
list.files(".\\")
surveydata <- read.csv("survey.csv")
head(surveydata)
class(surveydata)
library(data.table)
install.packages("data.table")
library(data.table)
install.packages("Rcpp")
library(data.table)
sur <- data.table(surveydata)
class sur
class(sur)
head(sur)
sur <- read.csv("survey.csv")
class(sur)
getwd()
ls
getwd()
head(survey)
survey <- read.csv("~/R/GettingAndCleaningData/survey.csv")
View(survey)
library(data.table)
tables()
dt <- data.table(read.csv("survey.csv"))
head(dt)
tables()
class(dt)
dtc <- dt[,c("val")]
dtc
dtc <- dt[,c(val)]
dtc <- dt[,$VAL]
dtc <- dt[,VAL]
bad <- is.na(dtc)
dtcna <- dtc[!bad]
dtval <- dtcna[val>=24]
dtval <- dtcna>=24
ans <- dtcna[dtval]
length(ans)
source("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx")
fileurl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileurl, destfile = "naturalgas.csv")
list.files(".\\")
library(xlsx)
install.packages("xlsx")
library(xlsx)
gas <- read.xls("naturalgas.csv", sheetIndex =1, rowIndex = 18:23, colIndexm=7:15)
gas <- read.xlsx("naturalgas.csv", sheetIndex =1, rowIndex = 18:23, colIndexm=7:15)
rowIndex <- 18:23
colIndex <- 7:15
gas <- read.xls("naturalgas.csv", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
gas <- read.xlsx("naturalgas.csv", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
download.file(fileurl, destfile = "naturalgas.csv")
download.file(fileurl, destfile = "naturalgas.xlsx")
fileurl
download.file(fileurl, destfile = "gas.xlsx")
download.file(fileurl, destfile = "naturalgas.xlsx", method = "curl")
library(rjava)
install.packages("rJava")
library(xlsx)
library(rjava)
library(xlsx)
download.file(fileurl, destfile = "gas.xlsx")
download.file(fileurl, destfile = "gas2.xlsx", mode = "wb")
library(xlsx)
rjava
rjava()
library(xlsxjars)
library(xlsx)
download.file(fileurl, destfile = "gas.xlsx", mode = "wb")
rowIndex <- 18:23
colIndex <- 7:15
gas <- read.xlsx("naturalgas.csv", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
gas <- read.xlsx("gas.csv", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
gas <- read.xlsx("gas.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
install.packages("xlsx")
install.packages("xlsx")
library(xlsx)
download.file(fileurl, destfile = "gas.xlsx", mode = "wb")
download.file(fileurl, destfile = "gas.csv", mode = "wb")
rowIndex <- 18:23
colIndex <- 7:15
dat <- read.xlsx("gas.csv", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
dat <- read.csv("gas.csv", rowIndex = rowIndex, colIndexm = colIndex)
download.file(fileurl, destfile = "gas2.xlsx")
download.file(fileurl, destfile = "gas2.xls")
dat <- read.xlsx("gas2.xls", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
fileurl <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileurl, destfile = "gas3.xlsx", mode = "wb")
dat <- read.xlsx("gas3.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
dat <- read.xlsx("gas3.xlsx", rowIndex = rowIndex, colIndexm = colIndex)
dat <- read.xlsx("gas3.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
dat <- read.xlsx2("gas3.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
options(java.home="C:\Program Files\Java\jre7\")
options(java.home="C:\\Program Files\\Java\\jre7\\")
library(xlsx)
download.file(fileurl, destfile = "gas3.xlsx")
fileUR
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileURL, destfile = "gas3.xlsx")
install.packages("xlsx")
install.packages("xlsx")
rowIndex <- 18:23
colIndex <- 7:15
library(xlsx)
download.file(fileurl, destfile = "gas.xlsx", mode = "wb")
dat <- read.xlsx("gas.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
library(data.table)
library(xlsx)
dat <- read.xlsx("gas.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndexm = colIndex)
dat <- read.xlsx("gas.xlsx", sheetIndex =1, rowIndex = rowIndex, colIndex = colIndex)
sum(dat$Zip*dat$Ext,na.rm=T)
library(XML)
install.packages("XML")
library(XML)
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
fileURL <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
names(rootNode)
zip <- xpathSApply(rootNode, "//zipcode", xmlValue)
selzip <- zip == 21231
ans <- zip[selzip]
length(ans)
fileURL <- http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv
fileURL <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
DT <- fread(fileURL)
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
head(DT)
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
)
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
)
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(DT[,mean(pwgtp15),by=SEX)
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15))
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(DT[,mean(pwgtp15),by=SEX])
library(RMySQL)
ucscDb <- dbConnect(MySQL(), user="genome", host = "genome-mysql.cse.ucsc.edu")
result <- dbGetQuery(ucscDb, "show databases;"); dbDisconnect(ucscDb)
result
source('~/GitHub/httr/demo/oauth2-github.r')
install.packages("httpuv")
library(httpuv)
source('~/GitHub/httr/demo/oauth2-github.r')
source('~/GitHub/httr/demo/oauth2-github.r')
library(jsonlite)
install.packages("jsonlite")
library(jsonlite)
install.packages("jsonlite")
library(jsonlite)
jsonData <- fromJSON("https://api.github.com/users/jtleek/repos")
jsonData
names(jsonData)
jsonData[5]
jsonData[5][45]
jsonData[5,]
jsonData[5,45]
library(sqldf)
install.packages("sqldf")
library(sqldf)
library(sqldf)
fileurl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileurl, destfile="quiz2")
acs <- read.csv("quiz2.csv")
sqldf("select pwgtp1 from acs where AGEP < 50")
sqldf("select * from acs where AGEP < 50 and pwgtp1")
sqldf("select * from acs where AGEP < 50")
unique(acs$AGEP)
sqldf("select distinct AGEP from acs")
sqldf("select unique AGEP from acs")
url <- "http://biostat.jhsph.edu/~jleek/contact.html"
library(XML)
con <- url(url)
con
htmlCode = readLines(con)
close(con)
htmlCode
nchar(htmlCode[10,])
class(htmlCode)
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
url <- url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for")
htmlCode = readlines(url)
htmlCode = readLines(url)
nchar(htmlCode[4])
b <- htmlCode[4]
sum(b)
b
sum(nchar(htmlCode[4]))
sum(htmlCode[4])
sum(as.number(b))
sum(as.numeric(b))
sum(as.numeric(b, allowNA = ))
as.numeric(b)
b
htmlCode
head(htmlCode)
htmlCode[8]
sum(htmlCode[8])
cols(htmlCode)
dim(htmlCode)
class(htmlCode)
read.fwf(file = getdata-wksst8110.for, sep= " ")
read.fwf(file = getdata-wksst8110.for, widths = 5,  sep= " ")
read.fwf(file = "getdata-wksst8110.for", widths = 5,  sep= " ")
read.fwf(file = "getdata-wksst8110.for", widths = 4,  sep= " ")
read.fwf(file = "getdata-wksst8110.for", widths = 4, skip = 4,  sep= " ")
c <- read.fwf(file = "getdata-wksst8110.for", widths = 5, skip = 4,  sep= " ")
head(c)
d <- htmlCode[5:20]
d
sum(as.numeric(substr(d,29,32)))
substr(d, 29, 32)
substr(d, 4)
d <- htmlCode[5, 1258]
d <- htmlCode[5:1258]
d
head(d)
sum(as.numeric(substr(d,29,32)))
substr(d, 29,32)
sum(as.numeric(substr(d,29,32)))
